% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/enumpart.R
\name{redist_enumpart}
\alias{redist_enumpart}
\title{Enumerate Partitions}
\usage{
redist_enumpart(
  map,
  ndists = attr(map, "ndists"),
  n = NULL,
  total_pop = map[[attr(map, "pop_col")]],
  lower = attr(map, "pop_bounds")[1L],
  upper = attr(map, "pop_bounds")[3L],
  ordered_path = tempfile("enum_ord"),
  out_path = tempfile("enum_out"),
  weight_path = if (!is.null(lower) || !is.null(upper)) tempfile("enum_wgt") else NULL,
  read = TRUE,
  init = FALSE
)
}
\arguments{
\item{map}{A \link{redist_map} object}

\item{ndists}{The number of districts. Defaults to the number specified
in \code{map}}

\item{n}{Number of partitions to draw uniformly at random. If \code{NULL}
(default), all valid partitions are enumerated}

\item{total_pop}{A vector of precinct populations. Defaults to the
population column in \code{map}}

\item{lower}{Lower bound on each district's total population. Defaults to
the lower bound in \code{map} if one is set}

\item{upper}{Upper bound on each district's total population. Defaults to
the upper bound in \code{map} if one is set}

\item{ordered_path}{Path (without \code{".dat"}) for the ordered edge file.
Defaults to a path in \code{tempdir()}}

\item{out_path}{Path (without \code{".dat"}) for the enumerated output file.
Defaults to a path in \code{tempdir()}. If the file already exists, it is read
directly}

\item{weight_path}{Path (without \code{".dat"}) for the vertex weights file.
Defaults to a path in \code{tempdir()} when \code{lower} or \code{upper} are non-\code{NULL}.}

\item{read}{If \code{TRUE} (default), reads and returns the enumerated plans as a
\link{redist_plans} object. If \code{FALSE}, runs enumpart and returns \code{out_path}
invisibly.}

\item{init}{If \code{TRUE}, builds enumpart before running. Must be
run once after installing the package. Defaults to \code{FALSE}.}
}
\value{
A \link{redist_plans} object, or \code{out_path} invisibly if \code{read = FALSE}.
}
\description{
Enumerates all valid partitions (or a uniform random subset) for a given
redistricting problem.
}
\details{
Path arguments default to \code{tempdir()}, so no file management is required
for typical use. Supply explicit paths to retain intermediate files across
sessions. This is recommended

If a file already exists at \code{out_path}, \code{enumpart} is not run and
the existing file is read directly. This makes it easy to resume or
re-read a previous enumeration.
}
\examples{
\dontrun{
data(fl25)
fl_map <- redist_map(fl25, ndists = 3, pop_tol = 0.1)
plans <- redist_enumpart(fl_map)

# Write to disk without reading (useful for large enumerations)
path <- redist_enumpart(fl_map, read = FALSE)
plans <- redist_enumpart(fl_map, out_path = path)  # reads existing file
}
}
\references{
Fifield, B., Imai, K., Kawahara, J., & Kenny, C. T. (2020).
The essential role of empirical validation in legislative redistricting
simulation. \emph{Statistics and Public Policy}, 7(1), 52-68.
}
\concept{enumerate}
