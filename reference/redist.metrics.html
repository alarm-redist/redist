<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate gerrymandering metrics for a set of plans — partisan_metrics • redist</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate gerrymandering metrics for a set of plans — partisan_metrics"><meta name="description" content="redist.metrics is used to compute different gerrymandering metrics for a
set of maps."><meta property="og:description" content="redist.metrics is used to compute different gerrymandering metrics for a
set of maps."><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">redist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/redist.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/common_args.html">Common Arguments to `redist` Functions</a></li>
    <li><a class="dropdown-item" href="../articles/flip.html">Redistricting with Flip MCMC</a></li>
    <li><a class="dropdown-item" href="../articles/map-preproc.html">Map Pre-processing for Special Constraints</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://alarm-redist.github.io/posts/2021-04-02-redist-300/">redist 3.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/alarm-redist/redist/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate gerrymandering metrics for a set of plans</h1>
      <small class="dont-index">Source: <a href="https://github.com/alarm-redist/redist/blob/main/R/tidy_deprecations.R" class="external-link"><code>R/tidy_deprecations.R</code></a>, <a href="https://github.com/alarm-redist/redist/blob/main/R/deprecations.R" class="external-link"><code>R/deprecations.R</code></a></small>
      <div class="d-none name"><code>redist.metrics.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>redist.metrics</code> is used to compute different gerrymandering metrics for a
set of maps.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">partisan_metrics</span><span class="op">(</span><span class="va">map</span>, <span class="va">measure</span>, <span class="va">rvote</span>, <span class="va">dvote</span>, <span class="va">...</span>, .data <span class="op">=</span> <span class="fu">cur_plans</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">redist.metrics</span><span class="op">(</span></span>
<span>  <span class="va">plans</span>,</span>
<span>  measure <span class="op">=</span> <span class="st">"DSeats"</span>,</span>
<span>  <span class="va">rvote</span>,</span>
<span>  <span class="va">dvote</span>,</span>
<span>  tau <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  biasV <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  respV <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  bandwidth <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  draw <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-map">map<a class="anchor" aria-label="anchor" href="#arg-map"></a></dt>
<dd><p>a <code><a href="redist_map.html">redist_map</a></code> object</p></dd>


<dt id="arg-measure">measure<a class="anchor" aria-label="anchor" href="#arg-measure"></a></dt>
<dd><p>A vector with a string for each measure desired from list "DSeats", "DVS", "EffGap",
"EffGapEqPop", "TauGap", "MeanMedian", "Bias", "BiasV", "Declination",
"Responsiveness", "LopsidedWins", "RankedMarginal", and "SmoothedSeat". Use "all" to get all metrics.
"DSeats" and "DVS" are always computed, so it is recommended to always return those values.</p></dd>


<dt id="arg-rvote">rvote<a class="anchor" aria-label="anchor" href="#arg-rvote"></a></dt>
<dd><p>A numeric vector with the Republican vote for each precinct.</p></dd>


<dt id="arg-dvote">dvote<a class="anchor" aria-label="anchor" href="#arg-dvote"></a></dt>
<dd><p>A numeric vector with the Democratic vote for each precinct.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>passed on to <code>redist.metrics</code></p></dd>


<dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>a <code><a href="redist_plans.html">redist_plans</a></code> object</p></dd>


<dt id="arg-plans">plans<a class="anchor" aria-label="anchor" href="#arg-plans"></a></dt>
<dd><p>A numeric vector (if only one map) or matrix with one row
for each precinct and one column for each map. Required.</p></dd>


<dt id="arg-tau">tau<a class="anchor" aria-label="anchor" href="#arg-tau"></a></dt>
<dd><p>A non-negative number for calculating Tau Gap. Only used with option "TauGap". Defaults to 1.</p></dd>


<dt id="arg-biasv">biasV<a class="anchor" aria-label="anchor" href="#arg-biasv"></a></dt>
<dd><p>A value between 0 and 1 to compute bias at. Only used with option "BiasV". Defaults to 0.5.</p></dd>


<dt id="arg-respv">respV<a class="anchor" aria-label="anchor" href="#arg-respv"></a></dt>
<dd><p>A value between 0 and 1 to compute responsiveness at. Only used with option "Responsiveness". Defaults to 0.5.</p></dd>


<dt id="arg-bandwidth">bandwidth<a class="anchor" aria-label="anchor" href="#arg-bandwidth"></a></dt>
<dd><p>A value between 0 and 1 for computing responsiveness. Only used with option "Responsiveness." Defaults to 0.01.</p></dd>


<dt id="arg-draw">draw<a class="anchor" aria-label="anchor" href="#arg-draw"></a></dt>
<dd><p>A numeric to specify draw number. Defaults to 1 if only one map provided
and the column number if multiple maps given. Can also take a factor input, which will become the
draw column in the output if its length matches the number of entries in plans. If the <code>plans</code> input
is a <code>redist_plans</code> object, it extracts the <code>draw</code> identifier.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with  a column for each specified measure and
a column that specifies the map number.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function computes specified compactness scores for a map.  If
there is more than one precinct specified for a map, it aggregates to the district level
and computes one score.</p><ul><li><p>DSeats is computed as the expected number of Democratic seats with no change in votes.</p></li>
<li><p>DVS is the Democratic Vote Share, which is the two party vote share with Democratic votes as the numerator.</p></li>
<li><p>EffGap is the Efficiency Gap, calculated with votes directly.</p></li>
<li><p>EffGapEqPop is the Efficiency Gap under an Equal Population assumption, calculated with the DVS.</p></li>
<li><p>TauGap is the Tau Gap, computed with the Equal Population assumption.</p></li>
<li><p>MeanMedian is the Mean Median difference.</p></li>
<li><p>Bias is the Partisan Bias computed at 0.5.</p></li>
<li><p>BiasV is the Partisan Bias computed at value V.</p></li>
<li><p>Declination is the value of declination at 0.5.</p></li>
<li><p>Responsiveness is the responsiveness at the user-supplied value with the user-supplied bandwidth.</p></li>
<li><p>LopsidedWins computed the Lopsided Outcomes value, but does not produce a test statistic.</p></li>
<li><p>RankedMarginal computes the Ranked Marginal Deviation (0-1, smaller is better). This is also known
as the "Gerrymandering Index" and is sometimes presented as this value divided by 10000.</p></li>
<li><p>SmoothedSeat computes the Smoothed Seat Count Deviation (0-1, smaller is R Bias, bigger is D Bias).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Jonathan N. Katz, Gary King, and Elizabeth Rosenblatt. 2020.
Theoretical Foundations and Empirical Evaluations of Partisan Fairness in District-Based Democracies.
American Political Science Review, 114, 1, Pp. 164-178.</p>
<p>Gregory S. Warrington. 2018. "Quantifying Gerrymandering Using the Vote Distribution."
Election Law Journal: Rules, Politics, and Policy. Pp. 39-57.http://doi.org/10.1089/elj.2017.0447</p>
<p>Samuel S.-H. Wang. 2016. "Three Tests for Practical Evaluation of Partisan Gerrymandering."
Stanford Law Review, 68, Pp. 1263 - 1321.</p>
<p>Gregory Herschlag, Han Sung Kang, Justin Luo, Christy Vaughn Graves, Sachet Bangia,
Robert Ravier &amp; Jonathan C. Mattingly (2020) Quantifying Gerrymandering in North Carolina,
Statistics and Public Policy, 7:1, 30-38, DOI: 10.1080/2330443X.2020.1796400</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">fl25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">fl25_enum</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plans_05</span> <span class="op">&lt;-</span> <span class="va">fl25_enum</span><span class="op">$</span><span class="va">plans</span><span class="op">[</span>, <span class="va">fl25_enum</span><span class="op">$</span><span class="va">pop_dev</span> <span class="op">&lt;=</span> <span class="fl">0.05</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="co"># old: redist.metrics(plans_05, measure = "DSeats", rvote = fl25$mccain, dvote = fl25$obama)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="http://alarm-redist.org/redistmetrics/reference/part_dseats.html" class="external-link">part_dseats</a></span><span class="op">(</span><span class="va">plans_05</span>, <span class="va">fl25</span>, <span class="va">mccain</span>, <span class="va">obama</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 2 2 2 3 3 3 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [38] 2 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [75] 2 2 2 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 2 2 2 3 3 3 3 3 3 3 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [112] 2 2 2 2 2 2 3 3 3 3 3 3 2 2 2 2 2 2 3 3 3 2 2 2 3 3 3 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [149] 2 2 3 3 3 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3 2 2 2 3 3 3 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186] 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 2 2 2 2 2 2 3 3 3 2 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [223] 3 3 3 2 2 2 3 3 3 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [260] 2 2 2 2 2 3 3 3 2 2 2 3 3 3 2 2 2 3 3 3 2 2 2 3 3 3 3 3 3 2 2 2 3 3 3 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [297] 3 3 3 3 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [334] 2 2 2 3 3 3 2 2 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 2 2 2 3 3 3 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [371] 2 2 3 3 3 3 3 3 2 2 2 3 3 3 3 3 3 2 2 2 3 3 3 3 3 3 2 2 2 3 3 3 3 3 3 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [408] 3 3 3 3 3 3 3 2 2 2 3 3 3 2 2 2 3 3 3 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [445] 3 3 3 2 2 2 3 3 3 2 2 2 2 2 2 3 3 3 2 2 2 3 3 3 3 3 3 2 2 2 3 3 3 3 3 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [482] 3 3 2 2 2 3 3 3 3 3 3 3 3 3 2 2 2 3 3 3 2 2 2 3 3 3 3 3 3 3 3 3 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [519] 2 3 3 3 3 3 3 3 3 3 2 2 2 3 3 3 2 2 2 3 3 3 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [556] 3 3 3 2 2 2 3 3 3 2 2 2 3 3 3 3 3 3 3 3 3</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christopher T. Kenny, Cory McCartan, Ben Fifield, Kosuke Imai.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

